<!--
.. title: Creating a website using Nikola
.. slug: creating-a-website-using-nikola
.. date: 2017-01-10 15:31:46 UTC
.. tags: 
.. category: 
.. link: 
.. description: 
.. type: text
.. TEASER_END
-->

<html>
<body>



<h4>Prerequisites:</h4>
<ul>
<li> Basic <em>Python</em>: <a href="www.example.com">www.example.com</a> </li>
<li> Basic <em>Command line</em> commands: <a href="www.example.com">www.example.com</a> </li>
</ul>

<hr>



<p>
Firstly, it seems appropriate to write about the software I am using to design, build, host, and serve this website. I am using a Python-based
</p>

<p><a href="https://getnikola.com/">Nikola</a> is a Python package that allows the user to create static websites using Python metadata. 
It allows each webpage to be writen in a markdown language such and html or RestructuredText and orchistrates them using Python.
Python is a particularly good language to support because it is a bastion for open source programming, and is used extensively throughout science.
</p>

<!-- TEASER_END -->

<p>The references I followed and would recommend are:
<ul>
<li> <a href="https://getnikola.com/getting-started.html">https://getnikola.com/getting-started.html</a>: getting started with Nikola, </li>
<li> <a href="http://areskibelaid.com/nikola-one-kickass-site-generator/"> http://areskibelaid.com/nikola-one-kickass-site-generator/ </a>: installation, livereload, themes, </li>
<li> <a href="http://shisaa.jp/postset/nikola-web.html">http://shisaa.jp/postset/nikola-web.html</a>: installation, customising, themes, </li>
<li> <a href="http://louistiao.me/posts/how-i-customized-my-nikola-powered-site/">http://louistiao.me/posts/how-i-customized-my-nikola-powered-site/</a>: installation, site first blog second, </li>
<li> <a href="https://getnikola.com/handbook.html">https://getnikola.com/handbook.html</a>: comprehensive handbook. </li>
</ul>
</p>

<h2>What is a static website?</h2>
<p>Websites can be either <i>static</i> or <i>dynamic</i>.
A static website is one whose content is static, that is, it can only be changed by the writer and only by changing the underlying code.
A dynamic website can also be influenced by the website users, e.g. through comments, forms, and social networking.
However, you can make a staic website allow the use of comments (which we will) but this involves using external resources that are part of a dynamic website, e.g. using disqus or facebook for comments.
</p>

<h3>Advantages of a static website</h3>
<ul>
<li>Quick and simple to build (if you know how),</li>
<li>Quick loading times,</li>
<li>Cheap to host (free on Github),</li>
<li>Makes it look like you are a coding boss.</li>
</ul>

<h3>Disadvantages of a static website</h3>
<ul>
<li>A pain to update (Nikola reduces this issue),</li>
<li>Low functionality in your website (ok for personal website incl. blog),</li>
<li>Generally less user-friendly (Nikola reduces this issue).</li>
</ul>

<p>More information can be found here: <a href="https://getnikola.com/handbook.html#why-static"> https://getnikola.com/handbook.html#why-static </a>.

<h2>Software prerequisites</h2>
Download the following programs:
<ul>
<li> <a href="https://notepad-plus-plus.org/download/v7.2.2.html"> Notepad++ </a>: nice text editor, especially for html, </li>
<li> <a href="https://www.continuum.io/downloads"> Anaconda </a>: extensive Python library. </li>
</ul>

<p><b>virtualenv</b> is a tool to create isolated Python environments. 
It allows you to separate some python components that are necessary for a project, but may interfere with components for a different project.
More information can be found at <a href="http://docs.python-guide.org/en/latest/dev/virtualenvs/">http://docs.python-guide.org/en/latest/dev/virtualenvs/</a> and <a href="https://pypi.python.org/pypi/virtualenv">https://pypi.python.org/pypi/virtualenv</a>. 
Install virtualenv via pip:

<pre>
$ pip install virtualenv
</pre>
</p>

<p>Install the Python packages <b>requests</b> and <b>livereload</b> which allow you to live update your webpage:

<pre>
$ pip install requests
$ pip install livereload
</pre>
</p>

<h2>Getting started</h2>
<p>First, create a virtualenv in the Anaconda prompt terminal
<pre>
$ mkvirtualenv venv_name
</pre>
Install <b>Nikola</b>
<pre>
$ pip install nikola
</pre>
</p>

<p>To create a new site in your current directory:
<pre>
$ nikola init
</pre>
after which you will be required to enter some details about the website.
</p>

<p>Next, in the new directory for the website, we can build the site using
<pre>
$ nikola build
</pre>

To open the website in the default browser (with automatic updates)
<pre>
$ nikola auto -b
</pre>
and use <code>CTRL + c</code> to cancel the current automatic building session.
</p>

<p>This is currently a blank website, so lets add a page
<pre>
$ nikola new_page
</pre>
and a post
<pre>
$ nikola new_post
</pre>
To add navigation links to the new page, in the conf.py you can adjust accordingly
<pre>
NAVIGATION_LINKS = {
    DEFAULT_LANG: (
		('/new_page_name.html', 'New Page Name')
        ('/archive.html', 'Archives'),
        ('/categories/index.html', 'Tags'),
        ('/rss.xml', 'RSS'),
    ),
}
</pre>
</p>


<p>To make html posts/pages default we go from this conf.py
<pre>
PAGES = (
    ("pages/*.rst", "", "story.tmpl"),
    ("pages/*.txt", "", "story.tmpl"),
    ("pages/*.html", "", "story.tmpl"),
)
</pre>
to this
<pre>
PAGES = (
    ("pages/*.html", "", "story.tmpl"),
    ("pages/*.rst", "", "story.tmpl"),
    ("pages/*.txt", "", "story.tmpl"),
)
</pre>
That is, put the default file type first.
</p>

<h2>Images and other files</h2>
Put any image or other file that you would like to include in your website in the <em>files</em> folder.

<h2>Themes</h2>
<p> By default, Nikola uses the <em>bootstrap-3</em> theme, however there are many more ready-made themes at <a href="https://themes.getnikola.com/">https://themes.getnikola.com/</a>.
To use a different theme, you must first install it using
<pre>
$ nikola install_theme theme_name
</pre>
and then in conf.py we must set
<pre>
THEME = "theme_name"
</pre>
</p>

<p>There are many additional customisations of the bootstrap theme at <a href="http://bootswatch.com/">http://bootswatch.com/</a>.
Further, it is possible to create a custom theme, for which I refer you to this helpful blog post <a href="http://shisaa.jp/postset/nikola-web.html">http://shisaa.jp/postset/nikola-web.html</a>.
</p>

<h2>Website first, blog second</h2>
<p> By default, Nikola makes the home page of the your website into a blog-style page, however it does allow you to make a non-blog-style page your home page.
First, we must set the following in the conf.py file:
<pre>
INDEX_PATH = "posts"
</pre>
<pre>
PAGES = (
    ("pages/*.rst", "", "story.tmpl"),
    ("pages/*.txt", "", "story.tmpl"),
)
</pre>
Then we must set a particular page to be the home page by opening that page's markup document and entering
<pre>
.. slug: index
</pre>
</p>

<p> I like my home page to have no title, so you can turn the title off in the home page's markup document by adding 
<pre>
.. hidetitle: True
</pre>
in the preamble.</p>

<h2>Extra tools</h2>
<h3>Favicons</h3>
<p>To use a <b>favicon</b>, in conf.py add
<pre>
FAVICONS = (
    ("icon", "/file_name.png", "16x16"),
)
</pre>
</p>

<h3>Post teasers</h3>
<p>To put a <b>teaser</b> of a post instead of the whole thing in the blog page we write
<pre>TEASER_END
</pre>

and in the conf.py we write
<pre>INDEX_TEASERS = True
</pre>
</p>

<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = '//m-allcock-website.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

</body>
</html>